---
git:
  branch: main
  commit: bba0e63
  dirty: true
  files_changed:
  - .claude/agents/rust-refactor-specialist.md
  - .claude/agents/rust-tdd-implementer.md
  - .claude/agents/sqlite-fts5-tdd-expert.md
  - .claude/agents/sqlite-rust-expert.md
  - .claude/commands/README.md
  - .claude/commands/checkpoint.md
  - .claude/skills/development-memory
  - .claude/skills/explore-codebase
  - .claude/skills/plan-tracking
  - .claude/skills/safe-refactor
  - .claude/skills/semantic-intelligence
  - .claude/skills/smart-search
  - .sherpa/active-workflow.md
  - src/search/index.rs
  - src/tests/memory_checkpoint_tests.rs
  - src/tests/memory_sql_views_tests.rs
  - src/tests/tools/workspace/discovery.rs
  - src/tools/workspace/discovery.rs
  - src/tools/workspace/indexing/index.rs
id: checkpoint_69851448_db072b
tags:
- memory
- search
- tantivy
- markdown-format
- milestone
timestamp: 1770329160
type: checkpoint
---

Completed memory search feature: recall(query=...) uses ephemeral in-memory Tantivy RamDirectory index with CodeTokenizer for BM25-ranked search across all memories (.json and .md formats). Fixed limit bug where limit was applied before scoring â€” now loads all memories, ranks them, then truncates. Updated slash commands. Switched memory format from JSON to Markdown with YAML frontmatter (backward compat preserved). 711/711 lib tests pass.
