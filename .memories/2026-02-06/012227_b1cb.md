---
git:
  branch: main
  commit: 7297133
  dirty: true
  files_changed:
  - .memories/plans/plan_replace-fts5-with-tantivy-codetokenizer.json
  - crates/julie-extractors/src/factory.rs
  - crates/julie-extractors/src/gdscript/mod.rs
  - crates/julie-extractors/src/ruby/mod.rs
  - crates/julie-extractors/src/tests/gdscript/mod.rs
  - crates/julie-extractors/src/tests/ruby/mod.rs
  - src/tests/mod.rs
  - src/tools/workspace/indexing/mod.rs
  - src/tools/workspace/indexing/processor.rs
  - src/tools/workspace/mod.rs
id: checkpoint_69854253_9ce8d3
tags:
- audit
- phase1
- pipeline
- milestone
- bugs
- gap-analysis
timestamp: 1770340947
type: checkpoint
---

Phase 1 Data Pipeline Audit COMPLETE. Three steps finished:

Step 1 (Census): Audited all 30 extractors — factory wiring verified, type extraction added for GDScript + Ruby, test_utils.rs created, factory.rs refactored 1007→456 lines.

Step 2 (Pipeline Traces): Traced 4 representative languages end-to-end (Rust, TypeScript, Python, Go). All 4 have complete 5-method APIs correctly wired in factory. Two cross-cutting bugs discovered:
- BUG #11: File watcher handler drops identifiers, types, relationships, pending_rels, and Tantivy on re-index (HIGH severity — data degrades with every file save)
- BUG #12: Tantivy definition search false positives from CodeTokenizer splitting compound names into OR-matched individual tokens (MEDIUM)

Step 3 (Gap Analysis): Investigated 4 areas:
- semantic_group: exists in struct/DB but only populated downstream by find_logic (working as designed)
- Decorators: extracted by Python/Java, stored as metadata JSON, but invisible to all tools
- Import graph: imports extracted as symbols but no dependency graph built, no tool queries imports
- async/abstract/static: partially extracted (Python isAsync, C isStatic) as metadata, invisible to tools

Key insight: extraction layer is solid, gaps are in storage/indexing (file watcher) and tool layer (metadata invisible).
