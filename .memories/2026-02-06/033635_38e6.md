---
git:
  branch: main
  commit: 060814f
  dirty: true
  files_changed:
  - .memories/plans/plan_phase-3-priority-1-fast-search-improvements.json
  - fixtures/databases/julie-snapshot/metadata.json
  - fixtures/databases/julie-snapshot/symbols.db
  - src/database/mod.rs
  - src/tests/core/workspace_init.rs
  - src/tests/tools/navigation/mod.rs
  - src/tests/tools/search_quality/dogfood_tests.rs
  - src/tools/navigation/fast_refs.rs
id: checkpoint_698561c3_026993
tags:
- tests
- fixture
- flaky-tests
- serial
- tantivy-migration
timestamp: 1770348995
type: checkpoint
---

Fixed 2 test failures after dogfood fixture rebuild:

1. test_symbol_search_sanitize_function → renamed to test_symbol_search_database_method
   - sanitize_fts5_query was removed during Tantivy migration
   - Replaced with find_symbols_by_name (same file, same kind)

2. test_nonexistent_env_var_fallback — flaky due to parallel env var mutation
   - Added #[serial] to all 8 env-var-mutating tests in workspace_init.rs
   - Added `use serial_test::serial;` import

Full suite: 734 passed, 1 failed (pre-existing test_tier2_finds_controller_pattern), 37 ignored.
