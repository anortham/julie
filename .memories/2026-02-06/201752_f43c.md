---
git:
  branch: main
  commit: 9096c72
  dirty: true
id: checkpoint_69864c70_13572e
tags:
- tool-audit
- get_symbols
- complete
timestamp: 1770409072
type: checkpoint
---

## Tool 2: get_symbols — Complete\n\n### Changes\n- **Added lean text format** — `format_lean_symbols()` produces scannable overview: `kind signature (line-range, visibility)` with nesting indentation\n- **Default structure mode now uses lean** — instead of TOON/JSON with hash IDs, agents get clean text by default\n- **Stripped noise from ToonFlatSymbol** — removed `id` (32-char hash), `file_path` (redundant), `language` (obvious) from TOON output\n- **Code/minimal modes unchanged** — already produced clean output\n\n### Output comparison\n- Before (TOON): `[20]{id,name,kind,language,file_path,...}:` + 32-char hashes per row\n- After (lean): `src/foo.rs — 20 symbols\\n  struct Foo (10-25)\\n    fn new() (12-15, private)`\n\n### Verification\n- 774 tests pass, 0 failures\n- **Needs server rebuild + live validation**
