---
git:
  branch: main
  commit: 523f149
  dirty: true
  files_changed:
  - TODO.md
  - crates/julie-extractors/src/c/declarations.rs
  - crates/julie-extractors/src/c/helpers.rs
  - crates/julie-extractors/src/c/mod.rs
  - crates/julie-extractors/src/c/relationships.rs
  - crates/julie-extractors/src/c/signatures.rs
  - crates/julie-extractors/src/css/at_rules.rs
  - crates/julie-extractors/src/css/media.rs
  - crates/julie-extractors/src/css/properties.rs
  - crates/julie-extractors/src/css/rules.rs
  - crates/julie-extractors/src/dart/functions.rs
  - crates/julie-extractors/src/dart/signatures.rs
  - crates/julie-extractors/src/go/functions.rs
  - crates/julie-extractors/src/go/mod.rs
  - crates/julie-extractors/src/java/imports_packages.rs
  - crates/julie-extractors/src/razor/directives.rs
  - crates/julie-extractors/src/razor/stubs.rs
  - crates/julie-extractors/src/sql/routines.rs
  - crates/julie-extractors/src/zig/functions.rs
id: checkpoint_6987e51a_07b592
tags:
- sentinel
- extractors
- cleanup
- audit
- quality
timestamp: 1770513690
type: checkpoint
---

## Sentinel Fallback Elimination — Round 2

### Scope
Audited all 30 extractors and fixed remaining sentinel fallback sites across **8 extractors** (17 files modified).

### Extractors Fixed
- **C** (6 sites): `helpers.rs` — `extract_macro_name`, `extract_include_path`, `extract_function_name`, `extract_function_name_from_declaration` → `Option<String>`; `declarations.rs` — `extract_typedef_name_*` → `Option<String>`, 5 extraction fns → `Option<Symbol>`; `signatures.rs` uses `.unwrap_or_default()`; `relationships.rs` uses guard clause
- **CSS** (4 sites): `at_rules.rs` — `extract_at_rule_name` → `Option<String>`, removed `"@unknown"`; `rules.rs` — `return None` instead of `"unknown"`; `media.rs` — `extract_media_query` → `Option<String>`; `properties.rs` — `extract_supports_condition` → `Option<String>`
- **Go** (2 sites): `functions.rs` — `extract_function`/`extract_method` → `Option<Symbol>`, `"anonymous"` → `?`; `mod.rs` — removed `Some()` wrappers
- **Java** (2 sites): `imports_packages.rs` — `parts.last()?` with empty check instead of `unwrap_or(&"")`
- **SQL** (1 site): `routines.rs` — `extract_procedure_signature` → `Option<String>`
- **Razor** (2 sites): `stubs.rs` — `object_name` → `Option<String>`; `directives.rs` — `extract_directive_name` → `Option<String>`
- **Dart** (3 sites): `signatures.rs` — all 3 signature fns → `Option<String>`, `"Unknown"`/`"Constructor"` → `?`
- **Zig** (already clean): name extraction already used `?`, signature builders kept `"unknown"` for type info (acceptable)

### Pattern Applied
- `"sentinel".to_string()` → `None` in return
- Callers for **symbol creation**: `?` operator (skip symbol)
- Callers for **signature building**: `.unwrap_or_default()` (empty name OK in signatures)

### Verification
- **1125 extractor tests**: ✅ all pass
- **653 lib tests**: ✅ all pass
- **Compilation**: ✅ zero errors

### Remaining
- `c/types.rs` still has 3 `"unknown"` for type extraction — these describe **types** not **names**, acceptable for now
- HTML/CSS noise extraction (design issue) — not addressed, separate effort
