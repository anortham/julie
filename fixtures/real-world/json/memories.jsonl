{"type":"decision","source":"agent","content":"Simplified architecture to 2-tier CASCADE (SQLite FTS5 + HNSW) by removing the Tantivy layer. Rationale: FTS5 provides instant search availability after indexing with sufficient performance (<5ms queries). Simplified from 3-tier to 2-tier to reduce architectural complexity - not due to Tantivy issues, but to streamline our async architecture.","timestamp":"2025-11-08T10:15:00Z","workspace_path":"/Users/murphy/source/julie"}
{"type":"feature","source":"agent","content":"Implemented CASCADE architecture with 2-tier search: SQLite FTS5 as single source of truth, HNSW semantic search as progressive enhancement. FTS5 provides <5ms queries, HNSW adds semantic understanding in background.","timestamp":"2025-11-08T11:30:00Z","workspace_path":"/Users/murphy/source/julie"}
{"type":"bug-fix","source":"user","content":"Fixed race condition in file watcher service where rapid file changes caused duplicate index updates. Added debouncing with 500ms delay and atomic write detection.","timestamp":"2025-11-08T14:45:00Z","workspace_path":"/Users/murphy/source/julie"}
{"type":"insight","source":"agent","content":"Discovered that tree-sitter parsers use 1-based line numbers (row + 1), but internal storage should match editor conventions. All extractors consistently use 1-based line numbers throughout.","timestamp":"2025-11-08T16:20:00Z","workspace_path":"/Users/murphy/source/julie"}
{"type":"refactor","source":"agent","content":"Refactored workspace isolation to use per-workspace SQLite databases in .julie/indexes/{workspace_id}/db/ instead of shared database with WHERE clauses. Eliminates cross-workspace query contamination and improves security.","timestamp":"2025-11-09T09:00:00Z","workspace_path":"/Users/murphy/source/julie"}
{"type":"observation","source":"development-session","content":"Performance testing shows JSONL parsing with line-by-line tree-sitter is ~10ms slower than single-file JSON, but provides proper line number tracking and supports streaming/append-only workflows essential for memory systems.","timestamp":"2025-11-09T13:45:00Z","workspace_path":"/Users/murphy/source/julie"}
